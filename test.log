/*C32*/SET SCHEMA PUBLIC
alter table PRODUCTO add column venta bigint
alter table PRODUCTO add column ID_VENTA bigint
create table VENTA (ID bigint generated by default as identity (start with 1), subTotal double, totalVenta double, primary key (ID))
alter table PRODUCTO add constraint FKF2D1C1608AFC43B0 foreign key (ID_VENTA) references VENTA
alter table PRODUCTO add constraint FKF2D1C160A39553D4 foreign key (venta) references VENTA
INSERT INTO PRODUCTO VALUES(9,'LECHE',12.0E0,'1L',24,54,'LACTEOS','LALA',NULL,NULL)
COMMIT
DISCONNECT
/*C33*/SET SCHEMA PUBLIC
ROLLBACK
DISCONNECT
/*C34*/SET SCHEMA PUBLIC
ROLLBACK
DISCONNECT
/*C35*/SET SCHEMA PUBLIC
DELETE FROM PRODUCTO WHERE ID=3
INSERT INTO PRODUCTO VALUES(3,'Cheetos',5.0E0,'35grs',4,8,'Frituras','Sabritas',NULL,NULL)
COMMIT
INSERT INTO VENTA VALUES(1,10.0E0,11.6E0)
DELETE FROM PRODUCTO WHERE ID=3
INSERT INTO PRODUCTO VALUES(3,'Cheetos',5.0E0,'35grs',4,8,'Frituras','Sabritas',NULL,1)
COMMIT
INSERT INTO VENTA VALUES(2,10.0E0,11.6E0)
DELETE FROM PRODUCTO WHERE ID=3
INSERT INTO PRODUCTO VALUES(3,'Cheetos',5.0E0,'35grs',4,8,'Frituras','Sabritas',NULL,2)
COMMIT
DISCONNECT
/*C36*/SET SCHEMA PUBLIC
DELETE FROM PRODUCTO WHERE ID=3
INSERT INTO PRODUCTO VALUES(3,'Cheetos',5.0E0,'35grs',4,5,'Frituras','Sabritas',NULL,2)
COMMIT
INSERT INTO VENTA VALUES(3,15.0E0,17.4E0)
DELETE FROM PRODUCTO WHERE ID=3
INSERT INTO PRODUCTO VALUES(3,'Cheetos',5.0E0,'35grs',4,5,'Frituras','Sabritas',NULL,3)
COMMIT
DISCONNECT
/*C37*/SET SCHEMA PUBLIC
DELETE FROM PRODUCTO WHERE ID=3
INSERT INTO PRODUCTO VALUES(3,'Cheetos',5.0E0,'35grs',4,0,'Frituras','Sabritas',NULL,3)
COMMIT
ROLLBACK
DISCONNECT
